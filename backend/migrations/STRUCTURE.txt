ğŸ“¦ SYSTÃˆME DE MIGRATIONS - CROSSFIT AUDIT
Version 1.0.0 â€¢ 27 janvier 2025

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“‚ STRUCTURE DU PACKAGE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

crossfit-audit-migrations/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                          [6.0K] Vue d'ensemble et dÃ©marrage
â”œâ”€â”€ ğŸ“„ INDEX.md                           [6.3K] Structure et guide complet
â”œâ”€â”€ ğŸ“„ QUICKSTART_MIGRATIONS.md           [3.2K] Guide de dÃ©marrage rapide
â”œâ”€â”€ ğŸ“„ MIGRATIONS_README.md               [9.1K] Documentation dÃ©taillÃ©e
â”‚
â”œâ”€â”€ ğŸ”§ INSTALL_MIGRATIONS.sh              [6.5K] Script d'installation (exÃ©cutable)
â”œâ”€â”€ ğŸ§ª test-migrations.sh                 [8.7K] Script de test (exÃ©cutable)
â”‚
â”œâ”€â”€ ğŸš€ deploy.sh                          [8.6K] Script de dÃ©ploiement MODIFIÃ‰ (exÃ©cutable)
â”œâ”€â”€ ğŸ’¾ db-manage.sh                       [12K]  Utilitaire backup/restore (exÃ©cutable)
â”‚
â”œâ”€â”€ âš™ï¸  migration-manager.js              [9.0K] Moteur de gestion des migrations
â”œâ”€â”€ âš™ï¸  migrations.js                     [6.1K] Script CLI (exÃ©cutable)
â”œâ”€â”€ ğŸ“‹ package.json.example               [449B] Exemple de configuration npm
â”‚
â””â”€â”€ ğŸ“ migrations/                               Dossier des migrations SQL
    â”œâ”€â”€ ğŸ“„ .gitignore                     [121B] Ignore les exemples
    â”‚
    â”œâ”€â”€ ğŸ“ 20250127_000001_add_audit_status_field.sql           [1.2K]
    â”‚   â””â”€â†’ Exemple: Ajouter un champ status aux audits
    â”‚
    â”œâ”€â”€ ğŸ“ 20250127_000002_create_audit_comments_table.sql      [1.7K]
    â”‚   â””â”€â†’ Exemple: CrÃ©er une table de commentaires
    â”‚
    â”œâ”€â”€ ğŸ“ 20250127_000003_add_gym_contact_info.sql             [1.1K]
    â”‚   â””â”€â†’ Exemple: Ajouter des champs de contact
    â”‚
    â””â”€â”€ ğŸ“ EXAMPLE_restructure_table.sql                        [4.7K]
        â””â”€â†’ Exemple avancÃ©: Restructuration complÃ¨te d'une table


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š STATISTIQUES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Total des fichiers      : 16 fichiers
Scripts exÃ©cutables     : 5 scripts
Documentation           : 4 guides
Code source             : 2 fichiers JS
Exemples de migrations  : 4 fichiers SQL
Taille totale          : ~73 KB


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¯ FICHIERS PAR FONCTION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š DOCUMENTATION (par oÃ¹ commencer)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. README.md                     â† Commencez ici !
2. INDEX.md                      â† Vue d'ensemble du systÃ¨me
3. QUICKSTART_MIGRATIONS.md      â† Pour dÃ©marrer rapidement
4. MIGRATIONS_README.md          â† RÃ©fÃ©rence complÃ¨te

ğŸš€ INSTALLATION & TESTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ INSTALL_MIGRATIONS.sh          â† Installation en 1 commande
â€¢ test-migrations.sh             â† Tester que tout fonctionne

âš™ï¸ SYSTÃˆME DE MIGRATIONS (Ã  dÃ©ployer dans /backend)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ migration-manager.js           â† Moteur principal
â€¢ migrations.js                  â† CLI pour crÃ©er/appliquer
â€¢ package.json.example           â† Ajouter ces scripts Ã  votre package.json

ğŸ“ MIGRATIONS (exemples inclus)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ migrations/*.sql               â† Vos fichiers de migration ici
â€¢ .gitignore                     â† Configuration Git

ğŸ› ï¸ UTILITAIRES (Ã  dÃ©ployer Ã  la racine)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ deploy.sh                      â† DÃ©ploiement avec migrations auto
â€¢ db-manage.sh                   â† Backup/restore de la DB


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ GUIDE D'UTILISATION RAPIDE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1ï¸âƒ£ INSTALLATION
   cd /home/ubuntu/crossfit-audit
   chmod +x INSTALL_MIGRATIONS.sh
   ./INSTALL_MIGRATIONS.sh

2ï¸âƒ£ CRÃ‰ER UNE MIGRATION
   cd backend
   npm run migrate:create add_my_field

3ï¸âƒ£ Ã‰DITER LA MIGRATION
   vim migrations/YYYYMMDD_HHMMSS_add_my_field.sql

4ï¸âƒ£ APPLIQUER
   npm run migrate

5ï¸âƒ£ DÃ‰PLOYER (applique automatiquement)
   cd ..
   ./deploy.sh


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… CHECKLIST POST-INSTALLATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â–¡ Fichiers copiÃ©s dans /home/ubuntu/crossfit-audit/backend/
â–¡ Scripts npm ajoutÃ©s au package.json
â–¡ Permissions d'exÃ©cution sur les scripts .sh
â–¡ Test: npm run migrate:status fonctionne
â–¡ Premier dÃ©ploiement rÃ©ussi avec ./deploy.sh
â–¡ Documentation lue


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ†˜ SUPPORT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ProblÃ¨me ?
  â†’ Consultez QUICKSTART_MIGRATIONS.md (section "ProblÃ¨mes courants")
  â†’ Consultez MIGRATIONS_README.md (section "FAQ")

Besoin de restaurer ?
  â†’ ./db-manage.sh list
  â†’ ./db-manage.sh restore

Besoin d'un exemple ?
  â†’ Voir les fichiers dans migrations/


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‰ Le systÃ¨me est complet et prÃªt Ã  l'emploi !

DÃ©veloppÃ© pour CrossFit Audit - Tulip Conseil
Version 1.0.0 â€¢ 27 janvier 2025
